<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Novo Abastecimento - L100</title>

  <!-- Tema global -->
  <link rel="stylesheet" href="css/style.css">
  <!-- CSS específico desta página -->
  <link rel="stylesheet" href="css/abastecimentos.css">

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<script defer src="js/firebase-config.js"></script>
<script defer src="js/auth.js"></script>
<script defer src="js/firestore.js"></script>
<script defer src="js/modal-abastecimento.js"></script>

</head>
<body>

  <!-- HEADER -->
  <header>
    <h1 class="page-title">
      <svg class="icon icon-title" aria-hidden="true">
        <use href="assets/icons.svg#icon-fuel"></use>
      </svg>
      <span>Novo Abastecimento</span>
    </h1>
    <p>Adicione um novo registo de combustível ao seu diário</p>
  </header>

  <!-- MAIN -->
  <main>
    <div class="container">
      <div class="card fuel-form-card">
        <h2 class="card-title">Registo de abastecimento</h2>
        <p class="card-subtitle">
          Preencha os campos obrigatórios para guardar este abastecimento.
        </p>

        <form id="fuel-form">
          <div class="form-grid">

            <!-- Veículo -->
            <div class="form-field form-field-full">
              <label for="fuel-vehicle">Veículo *</label>
              <select id="fuel-vehicle" required>
                <option value="">A carregar veículos...</option>
              </select>
              <small id="fuel-vehicle-helper" class="form-helper"></small>
            </div>

            <!-- Data -->
            <div class="form-field">
              <label for="fuel-date">Data do abastecimento *</label>
              <div class="input-with-icon">
                <input type="date" id="fuel-date" required>
                <svg class="icon icon-input" aria-hidden="true">
                  <use href="assets/icons.svg#icon-calendar"></use>
                </svg>
              </div>
            </div>

            <!-- Tipo de combustível -->
            <div class="form-field">
              <label for="fuel-type">Tipo de combustível *</label>
              <select id="fuel-type" required>
                <option value="">Selecionar combustível</option>
                <option value="gasolina">Gasolina</option>
                <option value="diesel">Diesel</option>
                <option value="etanol">Etanol</option>
                <option value="gnv">GNV</option>
                <option value="eletrico">Elétrico</option>
              </select>
            </div>

            <!-- Litros -->
            <div class="form-field">
              <label for="fuel-liters">Litros *</label>
              <div class="input-with-icon">
                <input
                  type="number"
                  step="0.01"
                  id="fuel-liters"
                  placeholder="ex: 45.50"
                  required
                >
                <svg class="icon icon-input" aria-hidden="true">
                  <use href="assets/icons.svg#icon-gauge"></use>
                </svg>
              </div>
            </div>

            <!-- Preço por litro -->
            <div class="form-field">
              <label for="fuel-price">Preço por litro (€) *</label>
              <div class="input-with-icon">
                <input
                  type="number"
                  step="0.001"
                  id="fuel-price"
                  placeholder="ex: 1.459"
                  required
                >
                <svg class="icon icon-input" aria-hidden="true">
                  <use href="assets/icons.svg#icon-wallet"></use>
                </svg>
              </div>
            </div>

            <!-- Quilometragem -->
            <div class="form-field">
              <label for="fuel-odometer">Quilometragem *</label>
              <div class="input-with-icon">
                <input
                  type="number"
                  id="fuel-odometer"
                  placeholder="ex: 125000"
                  required
                >
                <svg class="icon icon-input" aria-hidden="true">
                  <use href="assets/icons.svg#icon-odometer"></use>
                </svg>
              </div>
            </div>

            <!-- Posto -->
            <div class="form-field">
              <label for="fuel-station">Posto de combustível</label>
              <div class="input-with-icon">
                <input
                  type="text"
                  id="fuel-station"
                  placeholder="ex: Repsol, Galp, BP."
                >
                <svg class="icon icon-input" aria-hidden="true">
                  <use href="assets/icons.svg#icon-station"></use>
                </svg>
              </div>
            </div>
          </div>

          <!-- Observações -->
          <div class="form-field form-field-full">
            <label for="fuel-notes">Observações</label>
            <textarea
              id="fuel-notes"
              rows="3"
              placeholder="Adicione observações sobre este abastecimento."
            ></textarea>
          </div>

          <!-- Mensagens tipo "toast" -->
          <p id="fuel-message" class="form-message"></p>

          <!-- Botão -->
          <button type="submit" class="btn btn-primary full-width">
            <svg class="icon icon-left" aria-hidden="true">
              <use href="assets/icons.svg#icon-plus"></use>
            </svg>
            <span>Guardar abastecimento</span>
          </button>
          <button type="button" id="fuel-delete" class="btn btn-ghost full-width hidden" style="margin-top:8px;">
            Eliminar abastecimento
          </button>
        </form>
      </div>
    </div>
  </main>

  <!-- FOOTER com SVGs -->
  <footer>
    <a href="dashboard.html">
      <svg class="icon" aria-hidden="true">
        <use href="assets/icons.svg#icon-home"></use>
      </svg>
      <span>Home</span>
    </a>
    <a href="abastecimentos.html">
      <svg class="icon" aria-hidden="true">
        <use href="assets/icons.svg#icon-fuel"></use>
      </svg>
      <span>Abastecer</span>
    </a>
    <a href="veiculos.html">
      <svg class="icon" aria-hidden="true">
        <use href="assets/icons.svg#icon-car"></use>
      </svg>
      <span>Veículos</span>
    </a>
    <a href="perfil.html">
      <svg class="icon" aria-hidden="true">
        <use href="assets/icons.svg#icon-user"></use>
      </svg>
      <span>Perfil</span>
    </a>
  </footer>

</body>
</html>
